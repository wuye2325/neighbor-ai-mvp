<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <title>匹配记录 - 邻里分身</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <style>
        body { background: var(--bg-base); }
        .phone-frame { width: 100%; max-width: 375px; min-height: 100vh; margin: 0 auto; background: var(--bg-base); padding-bottom: 100px; }
        
        .header { display: flex; align-items: center; padding: 16px; background: var(--bg-card); position: sticky; top: 0; z-index: 100; }
        .back-btn { width: 36px; height: 36px; display: flex; justify-content: center; align-items: center; cursor: pointer; color: var(--text-secondary); }
        .header-title { flex: 1; font-size: 17px; font-weight: 600; color: var(--text-primary); text-align: center; margin-right: 36px; }
        
        .stats-summary { display: flex; justify-content: space-around; background: var(--bg-card); padding: 20px; margin: 16px; border-radius: var(--radius-xl); box-shadow: var(--shadow-sm); }
        .stat { text-align: center; }
        .stat-value { font-size: 28px; font-weight: 700; color: var(--text-primary); }
        .stat-label { font-size: 12px; color: var(--text-muted); margin-top: 4px; }
        
        .match-list { padding: 0 16px; }
        
        .match-item { display: flex; align-items: center; padding: 16px; background: var(--bg-card); border-radius: var(--radius-lg); margin-bottom: 10px; cursor: pointer; transition: all 0.2s; box-shadow: var(--shadow-xs); }
        .match-item:active { transform: scale(0.99); }
        
        .match-avatar { width: 48px; height: 48px; background: var(--primary-gradient); border-radius: 50%; display: flex; justify-content: center; align-items: center; margin-right: 14px; flex-shrink: 0; }
        .match-avatar i { font-size: 20px; color: white; }
        
        .match-content { flex: 1; min-width: 0; }
        .match-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px; }
        .match-name { font-size: 15px; font-weight: 600; color: var(--text-primary); }
        .match-score { font-size: 14px; font-weight: 700; }
        .match-score.success { color: var(--success); }
        .match-score.pending { color: var(--warm); }
        .match-score.rejected { color: var(--text-muted); }
        .match-desc { font-size: 13px; color: var(--text-secondary); }
        .match-time { font-size: 12px; color: var(--text-muted); margin-top: 4px; }
        
        .match-status { padding: 4px 10px; border-radius: var(--radius-full); font-size: 11px; font-weight: 600; }
        .match-status.success { background: var(--success-bg); color: var(--success); }
        .match-status.pending { background: var(--warning-bg); color: var(--warning); }
        .match-status.rejected { background: var(--bg-muted); color: var(--text-muted); }
    </style>
</head>
<body>
    <div class="phone-frame">
        <div class="header">
            <div class="back-btn" onclick="location.href='profile.html'">
                <i class="fas fa-chevron-left"></i>
            </div>
            <div class="header-title">匹配记录</div>
        </div>

        <div class="stats-summary">
            <div class="stat">
                <div class="stat-value" style="color: var(--success);">8</div>
                <div class="stat-label">成功</div>
            </div>
            <div class="stat">
                <div class="stat-value" style="color: var(--warm);">3</div>
                <div class="stat-label">进行中</div>
            </div>
            <div class="stat">
                <div class="stat-value">1</div>
                <div class="stat-label">未成功</div>
            </div>
        </div>

        <div class="match-list" id="matchList"></div>

        <div class="bottom-nav">
            <div class="nav-item" onclick="location.href='hall.html'">
                <i class="fas fa-home"></i>
                <span>大厅</span>
            </div>
            <div class="nav-item" onclick="location.href='memory.html'">
                <i class="fas fa-brain"></i>
                <span>记忆</span>
            </div>
            <div class="nav-item" onclick="location.href='publish.html'">
                <div class="publish-btn"><i class="fas fa-plus"></i></div>
            </div>
            <div class="nav-item" onclick="location.href='chat-list.html'">
                <i class="fas fa-comment-dots"></i>
                <span>聊天</span>
            </div>
            <div class="nav-item" onclick="location.href='profile.html'">
                <i class="fas fa-user"></i>
                <span>我的</span>
            </div>
        </div>
    </div>

    <script src="data/mock-data.js"></script>
    <script>
        renderMatchList();

        function renderMatchList() {
            const container = document.getElementById('matchList');
            const matches = MOCK_DATA.matches || [];
            
            const statusText = {
                'success': '已成交',
                'pending': '进行中',
                'rejected': '未成功'
            };
            
            container.innerHTML = matches.map(m => `
                <div class="match-item" onclick="location.href='chat.html?id=${m.id}'">
                    <div class="match-avatar"><i class="fas fa-robot"></i></div>
                    <div class="match-content">
                        <div class="match-header">
                            <div class="match-name">${m.agentName}</div>
                            <div class="match-score ${m.status}">${m.score}%</div>
                        </div>
                        <div class="match-desc">${m.title}</div>
                        <div class="match-time">${m.time}</div>
                    </div>
                    <div class="match-status ${m.status}">${statusText[m.status]}</div>
                </div>
            `).join('');
        }
    </script>
</body>
</html>
